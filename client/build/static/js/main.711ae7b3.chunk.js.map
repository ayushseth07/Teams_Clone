{"version":3,"sources":["socket.js","components/Main/Heading.js","components/Main/Main.js","components/Video/VideoCard.js","components/Room/ChatOption.js","components/Room/CallOption.js","components/Room/Room.js","App.js","index.js","components/Main/image1.svg"],"names":["sockets","io","useStyles","makeStyles","theme","title","flexGrow","fontFamily","fontSize","color","main","backgroundColor","borderRadius","padding","button","textTransform","marginLeft","meetingID","marginRight","Heading","props","classes","Container","AppBar","position","className","Toolbar","style","Typography","variant","meeting","Button","size","room","display","body","paddingTop","paper","marginTop","background","textAlign","mainTitle","paddingBottom","paddingLeft","paddingRight","meetingStart","inputBox","outline","start","marginBottom","label","Main","roomRef","useRef","userRef","useState","err","setErr","errMsg","setErrMsg","React","inp","setInp","setInput","useEffect","socket","on","clients","userName","socketList","error","forEach","client","roomName","current","value","sessionStorage","setItem","history","push","Grid","container","spacing","backgroundImage","noWrap","item","xs","Paper","elevation","src","HomeImage","alt","width","onClick","ref","emit","roomId","VideoCard","peer","stream","srcObject","track","playsInline","autoPlay","backgroundSize","overflow","chatHeading","chatBox","icon","verticalAlign","messageBox","height","overflowY","borderBlockColor","borderRightColor","borderTopColor","sendBox","message","margin","sent","received","ChatOption","roomID","currentUser","getItem","msg","setMsg","messagesEndRef","inputRef","sender","msgs","map","IDx","key","float","clear","onKeyUp","eve","target","placeholder","moment","Date","today1","toLocaleDateString","day","month","today2","weekday","root","button1","date","CallOption","toggleCameraAudio","data-switch","userVideoAudio","audio","video","leave","endCall","goToBack","grandParent","flexDirection","parent","justifyContent","flexWrap","child","writeName","zIndex","parentbig","childbig","writeNamebig","meetingEnd","meetingEndTitle","Room","peers","setPeers","localUser","setUserVideoAudio","setVideo","setLeave","peersRef","userVideoRef","userStream","match","params","findPeer","id","find","p","peerID","createVideo","index","videoHolder","userNameCust","hasOwnProperty","writeUserName","window","addEventListener","navigator","mediaDevices","getUserMedia","then","peer_array","userId","caller","Peer","initiator","trickle","config","iceServers","urls","url","username","credential","signal","userToCall","from","destroy","createPeer","preList","info","incomingSignal","callerId","to","addPeer","users","answerId","peerIDs","filter","user","switchTarget","disconnect","e","preventDefault","removeItem","location","href","sm","currentTarget","getAttribute","console","log","videoSwitch","audioSwitch","getVideoTracks","enabled","userAudioTrack","getAudioTracks","length","muted","App","exact","path","component","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.711ae7b3.chunk.js","sourcesContent":["import io from 'socket.io-client';\nconst sockets = io('/');\nexport default sockets;\n","import React from \"react\";\r\nimport {\r\n  AppBar,\r\n  Typography,\r\n  Button,\r\n  Toolbar,\r\n  Container\r\n} from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  title: {\r\n    flexGrow: 1,\r\n    fontFamily: \"'Pacifico', cursive\",\r\n    fontSize: \"2.2rem\",\r\n    color: \"#B3B3B3\"\r\n  },\r\n  main: {\r\n    backgroundColor: \"#282828\",\r\n    borderRadius: \"15px\",\r\n    padding: \"10px\"\r\n  },\r\n  button: {\r\n    backgroundColor: \"#404040\",\r\n    color: \"#B3B3B3\",\r\n    fontFamily: \"'Montserrat', sans-serif\",\r\n    fontSize: \"1.1rem\",\r\n    borderRadius: \"10px\",\r\n    textTransform: \"none\",\r\n    marginLeft: \"15px\"\r\n  },\r\n  meetingID: {\r\n    color: \"#FFFFFFF\",\r\n    marginLeft: \"14px\",\r\n    fontFamily: \"'Ubuntu', sans-serif\",\r\n    fontSize: \"1rem\",\r\n    marginRight: \"14px\"\r\n  }\r\n}));\r\n\r\nfunction Heading(props) {\r\n  const classes = useStyles();\r\n  return (\r\n    <Container>\r\n      <AppBar position=\"static\" className={classes.main}>\r\n        <Toolbar>\r\n          <span\r\n            className=\"fas fa-icons fa-3x\"\r\n            style={{\r\n              color: \"#B0B3B8\",\r\n              marginLeft: \"10px\",\r\n              marginRight: \"15px\"\r\n            }}\r\n          ></span>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            VideoPrism.io\r\n          </Typography>\r\n          {props.meeting ? (\r\n            <Typography variant=\"h6\" className={classes.meetingID}>\r\n              Your RoomID :\r\n              <Button size=\"large\" className={classes.button}>\r\n                {props.room}\r\n              </Button>\r\n            </Typography>\r\n          ) : (\r\n            <Typography variant=\"h6\" className={classes.meetingID}>\r\n              <Button size=\"large\" className={classes.button} display=\"inline\">\r\n                A VideoChat WebApp for Everyone !!\r\n              </Button>\r\n            </Typography>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Heading;\r\n","import React, { useRef, useState, useEffect } from 'react';\nimport socket from '../../socket';\nimport { makeStyles } from \"@material-ui/core\";\nimport { Paper, Grid, Typography, Button} from \"@material-ui/core\";\nimport HomeImage from \"./image1.svg\";\nimport Heading from \"./Heading\"\n\nconst useStyles = makeStyles((theme) => ({\n  body: {\n    display: \"block\",\n    paddingTop: \"10px\",\n    backgroundColor: \"#181818\"\n  },\n  paper: {\n    marginRight: \"5px\",\n    marginTop: \"30px\",\n    borderRadius: \"30px\",\n    background: \"#e0e0e0\",\n    textAlign: \"center\"\n  },\n  mainTitle: {\n    fontFamily: \"'Ubuntu', sans-serif\",\n    color: \"#B3B3B3\",\n    textAlign: \"center\",\n    fontSize: \"4rem\",\n    paddingTop: \"20px\",\n    paddingBottom: \"20px\",\n    paddingLeft: \"50px\",\n    paddingRight: \"50px\"\n  },\n  meetingStart: {\n    padding: \"10px\",\n    paddingLeft: \"20px\",\n    paddingRight: \"20px\",\n    borderRadius: \"20px\",\n    fontFamily: \"'Montserrat', sans-serif\",\n    color: \"#B3B3B3\",\n    fontSize: \"2rem\"\n  },\n  inputBox: {\n    backgroundColor: \"#404040\",\n    marginTop: \"10px\",\n    borderRadius: \"20px\",\n    paddingLeft: \"20px\",\n    paddingTop: \"8px\",\n    paddingBottom: \"8px\",\n    color: \"#B3B3B3\",\n    outline: \"none\"\n  },\n  start: {\n    fontFamily: \"'Montserrat', sans-serif\",\n    fontSize: \"1.1rem\",\n    borderRadius: \"20px\",\n    textTransform: \"none\",\n    marginTop: \"20px\",\n    marginBottom: \"20px\"\n  },\n  label: {\n    fontFamily: \"'Ubuntu', sans-serif\",\n    color: \"#B3B3B3\",\n    marginRight: \"15px\"\n  }\n}));\n\n\nfunction Main(props) {\n  const classes = useStyles();\n\n  const roomRef = useRef();\n  const userRef = useRef();\n  const [err, setErr] = useState(false);\n  const [errMsg, setErrMsg] = useState('');\n  const [inp, setInp] = React.useState(false);\n\n  useEffect(() => {\n\n    socket.on('errorUserExists', ({clients, userName, socketList}) => {\n      let error = false;\n      clients.forEach((client) => {\n        if (socketList[client].userName === userName) {\n          error = true;\n        }\n      });\n      if (!error) {\n        const roomName = roomRef.current.value;\n        const userName = userRef.current.value;\n        \n        sessionStorage.setItem('user', userName);\n        props.history.push(`/room/${roomName}`);\n      } else {\n        setErr(error);\n        setErrMsg('User name already exist');\n      }\n    });\n  }, [props.history]);\n\n  function clickJoin() {\n    const roomName = roomRef.current.value;\n    const userName = userRef.current.value;\n\n    if (!roomName || !userName) {\n      setErr(true);\n      setErrMsg('Enter Room Name or User Name');\n    } else {\n      socket.emit('checkUser', { roomId: roomName, userName });\n    }\n  }\n  function setInput() {\n    setInp(true);\n  }\n\n\n  return (   \n      <div className={classes.body}>\n      <Heading meeting={false} />\n      <Grid container spacing={1}>\n        <div\n          className={classes.paper}\n          style={{\n            marginLeft: \"175px\",\n            backgroundColor: \"#485461\",\n            backgroundImage: \"linear-gradient(315deg, #485461 0%, #28313b 74%)\"\n          }}\n        >\n          <Typography variant=\"body1\" className={classes.mainTitle} noWrap>\n            VideoCall \"Anyone\" from \"Anywhere\"\n          </Typography>\n        </div>\n        <Grid item xs={6}>\n          <Paper\n            style={{ marginLeft: \"220px\", backgroundColor: \"#181818\" }}\n            elevation={0}\n          >\n            <img\n              src={HomeImage}\n              alt=\"source\"\n              style={{\n                backgroundColor: \"#181818\",\n                width: \"450px\"\n              }}\n            />\n          </Paper>\n        </Grid>\n        <Grid item xs={6}>\n          <Paper\n            className={classes.paper}\n            style={{\n              marginLeft: \"100px\",\n              marginRight: \"100px\",\n              backgroundColor: \"#282828\",\n              paddingBottom: \"10px\"\n            }}\n          >\n            <div\n              style={{\n                backgroundColor: \"#404040\",\n                display: \"inline-flex\",\n                marginTop: \"30px\",\n                borderRadius: \"30px\",\n                marginBottom: \"20px\"\n              }}\n            >\n              <Typography\n                variant=\"body1\"\n                className={classes.meetingStart}\n                noWrap\n              >\n                Start VideoCall !!\n              </Typography>\n            </div>\n            <br />\n            <Button\n              size=\"large\"\n              className={classes.start}\n              display=\"inline\"\n              color=\"primary\"\n              variant=\"contained\"\n              style={{ marginRight: \"15px\" }}\n              onClick={setInput}\n            >\n              New Call\n            </Button>\n            <Button\n              size=\"large\"\n              className={classes.start}\n              display=\"inline\"\n              color=\"secondary\"\n              variant=\"contained\"\n              style={{ marginLeft: \"15px\" }}\n              onClick={setInput}\n            >\n              Join Call\n            </Button>\n            {inp ? (\n              <div>\n                <span className={classes.label}> Name : </span>\n                <input\n                  className={classes.inputBox}\n                  ref={userRef}\n                  style={{marginLeft: \"12px\"}}\n                />\n                <br />\n                <span className={classes.label}> RoomId : </span>\n                <input\n                  className={classes.inputBox}\n                  ref={roomRef}\n                />\n                <br />\n                <Button\n                  size=\"large\"\n                  className={classes.start}\n                  display=\"inline\"\n                  color=\"primary\"\n                  variant=\"contained\"\n                  style={{ marginRight: \"15px\" }}\n                  onClick={clickJoin}\n                >\n                  Les Go !!\n                </Button>\n                {err ? (\n                  <p>{errMsg}</p>):(\n                    null)}\n              </div>\n            ) : (\n              <div></div>\n            )}\n          </Paper>\n        </Grid>\n      </Grid>\n    </div>\n    \n  );\n};\n\nexport default Main;\n","import React, { useEffect, useRef } from 'react';\n\nconst VideoCard = (props) => {\n  const ref = useRef();\n  const peer = props.peer;\n  const width = props.width\n\n  useEffect(() => {\n    peer.on('stream', (stream) => {\n      ref.current.srcObject = stream;\n    });\n    peer.on('track', (track, stream) => {\n    });\n  }, [peer]);\n\n  return (\n    <video\n      playsInline\n      autoPlay\n      ref={ref}\n      style={{backgroundSize: \"cover\", overflow: \"hidden\", width: width}}\n    />\n  );\n};\n\n\nexport default VideoCard;\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport { Paper, Typography } from \"@material-ui/core\";\r\n\r\nimport MessageIcon from \"@material-ui/icons/Message\";\r\nimport socket from '../../socket';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    backgroundColor: \"#282828\",\r\n    borderRadius: \"50px\",\r\n    marginTop: \"15px\",\r\n    paddingTop: \"10px\"\r\n  },\r\n  chatHeading: {\r\n    backgroundColor: \"#404040\",\r\n    padding: theme.spacing(1),\r\n    textAlign: \"center\",\r\n    borderRadius: \"30px\",\r\n    marginTop: \"15px\",\r\n    paddingBottom: \"5px\"\r\n  },\r\n  chatBox: {\r\n    fontFamily: \"'Montserrat', sans-serif\",\r\n    fontSize: \"1.4rem\",\r\n    color: \"#B3B3B3\",\r\n    marginBottom: \"10px\",\r\n    display: \"inline-block\"\r\n  },\r\n  icon: {\r\n    color: \"#B3B3B3\",\r\n    textAlign: \"center\",\r\n    marginRight: \"10px\",\r\n    verticalAlign: \"middle\"\r\n  },\r\n  messageBox: {\r\n    backgroundColor: \"#404040\",\r\n    padding: theme.spacing(2),\r\n    borderRadius: \"30px\",\r\n    marginTop: \"20px\",\r\n    height: \"400px\",\r\n    overflowY: \"auto\"\r\n  },\r\n\r\n  inputBox: {\r\n    backgroundColor: \"#282828\",\r\n    color: \"#B3B3B3\",\r\n    borderRadius: \"20px\",\r\n    padding: \"15px\",\r\n    width: \"320px\",\r\n    outline: \"none\",\r\n    borderBlockColor: \"#181818\",\r\n    borderRightColor: \"#181818\",\r\n    borderTopColor: \"#181818\",\r\n    marginBottom: \"15px\"\r\n  },\r\n  sendBox: {\r\n    marginTop: \"30px\",\r\n    textAlign: \"center\"\r\n  },\r\n  message: {\r\n    color: \"#B3B3B3\",\r\n    backgroundColor: \"#282828\",\r\n    display: \"inline-block\",\r\n    marginBottom: \"10px\",\r\n    padding: \"10px\",\r\n    borderRadius: \"20px\"\r\n  },\r\n  title: {\r\n    fontSize: \"0.6rem\",\r\n    margin: 0,\r\n    fontFamily: \"'Ubuntu', sans-serif\",\r\n  },\r\n  body: {\r\n    margin: \"1px\",\r\n    fontSize: \"1rem\",\r\n    fontFamily: \"'Montserrat', sans-serif\"\r\n  },\r\n  sent: {\r\n    textAlign: \"right\"\r\n  },\r\n  received: {\r\n    textAlign: \"left\"\r\n  }\r\n}));\r\n\r\nconst ChatOption = ({ roomId }) => {\r\n  const roomID = roomId;\r\n  const currentUser = sessionStorage.getItem('user')\r\n  const [msg, setMsg] = useState([])\r\n  \r\n  const messagesEndRef = useRef(null);\r\n  const inputRef = useRef();\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    socket.on('receiveMessage', ({ msg, sender }) => {\r\n      setMsg((msgs) => [...msgs, { sender, msg }]);\r\n    });\r\n  }, [])\r\n\r\n  function sendMessage(eve){\r\n    if(eve.key === 'Enter'){\r\n      const msg = eve.target.value\r\n\r\n      if(msg){\r\n        socket.emit('sendMessage',{ roomID, msg, sender: currentUser })\r\n        inputRef.current.value = ''\r\n      }\r\n    }\r\n  }\r\n  return (\r\n    <div>\r\n      <Paper className={classes.chatHeading}>\r\n        <MessageIcon fontSize=\"large\" className={classes.icon} />\r\n        <Typography variant=\"body1\" className={classes.chatBox}>\r\n          Messages\r\n        </Typography>\r\n      </Paper>\r\n      <div className={classes.messageBox}>\r\n      {\r\n        msg && msg.map(({sender, msg}, IDx) => {\r\n          if(sender === currentUser)\r\n          {\r\n            return (\r\n              <div className={classes.sent} key={IDx}>\r\n                <div className={classes.message}>\r\n                  <p className={classes.title}>{sender}</p>\r\n                  <p className={classes.body}>{msg}</p>\r\n                </div>\r\n              </div>\r\n            )\r\n          }\r\n          else {\r\n            return (\r\n              <div className={classes.received}>\r\n                <div className={classes.message}>\r\n                  <p className={classes.title}>{sender}</p>\r\n                  <p className={classes.body}>{msg}</p>\r\n                </div>\r\n              </div>\r\n            )\r\n          }\r\n        })\r\n      }\r\n      <div style={{float:'left', clear: 'both'}} ref={messagesEndRef} />\r\n      </div>\r\n      <div className={classes.sendBox}>\r\n        <input className={classes.inputBox} ref={inputRef} onKeyUp={sendMessage} placeholder=\"Press Enter to send Message\"/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ChatOption;\r\n","import React from \"react\";\r\nimport { Paper, Button, Typography } from \"@material-ui/core\";\r\nimport MicIcon from \"@material-ui/icons/Mic\";\r\nimport CallEndIcon from \"@material-ui/icons/CallEnd\";\r\nimport VideocamIcon from \"@material-ui/icons/Videocam\";\r\n// import ScreenShareIcon from \"@material-ui/icons/ScreenShare\";\r\nimport MicOffIcon from \"@material-ui/icons/MicOff\";\r\nimport VideocamOffIcon from \"@material-ui/icons/VideocamOff\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\n\r\nconst moment = new Date();\r\nconst option1 = { day: \"numeric\", month: \"short\" };\r\nconst option2 = { weekday: \"long\" };\r\nconst today1 = moment.toLocaleDateString(\"en-US\", option1);\r\nconst today2 = moment.toLocaleDateString(\"en-US\", option2);\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    paddingBottom: \"30px\",\r\n    marginBottom: \"15px\"\r\n  },\r\n  paper: {\r\n    backgroundColor: \"#282828\",\r\n    paddingLeft: \"23px\",\r\n    borderRadius: \"50px\",\r\n    marginTop: \"15px\",\r\n    paddingTop: \"10px\"\r\n  },\r\n  button: {\r\n    padding: \"15px\",\r\n    borderRadius: \"100%\",\r\n    backgroundColor: \"#B3B3B3\",\r\n    color: \"#282828\",\r\n    marginTop: \"30px\"\r\n  },\r\n  button1: {\r\n    padding: \"15px\",\r\n    borderRadius: \"100%\",\r\n    marginTop: \"30px\"\r\n  },\r\n  date: {\r\n    textAlign: \"center\",\r\n    color: \"#B3B3B3\",\r\n    fontFamily: \"'Montserrat', sans-serif\",\r\n    fontSize: \"1.4rem\"\r\n  }\r\n}));\r\nfunction CallOption(props) {\r\n  const classes = useStyles();\r\n//   const [mic, setMic] = React.useState(true);\r\n//   const [video, setVideo] = React.useState(true);\r\n//   function changeMic() {\r\n//     setMic(!mic);\r\n//   }\r\n//   function changeVideo() {\r\n//     setVideo(!video);\r\n//   }\r\n\r\n  return (\r\n    <div>\r\n      <Typography variant=\"h6\" className={classes.date}>\r\n        {today1},\r\n      </Typography>\r\n      <Typography variant=\"h6\" className={classes.date}>\r\n        {today2}\r\n      </Typography>\r\n      <Paper className={classes.paper} style={{ marginTop: \"40px\" }}>\r\n        <div className={classes.root}>\r\n          <Button\r\n            size=\"large\"\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.button}\r\n            onClick={props.toggleCameraAudio}\r\n            data-switch='audio'\r\n            title=\"Toggle Audio\"\r\n          >\r\n            {props.userVideoAudio.audio ? (\r\n              <MicIcon fontSize=\"large\" />\r\n            ) : (\r\n              <MicOffIcon fontSize=\"large\" />\r\n            )}\r\n          </Button>\r\n          <Button\r\n            size=\"large\"\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            className={classes.button}\r\n            data-switch='video'\r\n            onClick={props.toggleCameraAudio}\r\n            title=\"Toggle Video\"\r\n          >\r\n          {props.userVideoAudio.video ? (\r\n              <VideocamIcon fontSize=\"large\" />\r\n            ) : (\r\n              <VideocamOffIcon fontSize=\"large\" />\r\n            )}\r\n          </Button>\r\n          {\r\n            props.leave ? (\r\n              <Button\r\n                size=\"large\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                className={classes.button1}\r\n                onClick={props.endCall}\r\n                title=\"Leave Room\"\r\n              >\r\n                <ExitToAppIcon fontSize=\"large\" />\r\n              </Button>\r\n            ) : (\r\n              <Button\r\n                size=\"large\"\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                className={classes.button1}\r\n                onClick={props.goToBack}\r\n                title=\"Leave Video\"\r\n              >\r\n                <CallEndIcon fontSize=\"large\" />\r\n              </Button>\r\n            )\r\n          }\r\n\r\n          {/* <Button\r\n            size=\"large\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.button1}\r\n          >\r\n            <ScreenShareIcon fontSize=\"large\" />\r\n          </Button> */}\r\n        </div>\r\n      </Paper>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CallOption;\r\n","import React, { useState, useEffect, useRef } from 'react';\nimport Peer from 'simple-peer';\nimport socket from '../../socket';\nimport VideoCard from '../Video/VideoCard';\nimport ChatOption from './ChatOption';\nimport Heading from \"../Main/Heading\"\nimport CallOption from \"./CallOption\"\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Grid } from \"@material-ui/core\";\n\nconst useStyles = makeStyles({\n  grandParent: {\n    display: \"flex\",\n    flexDirection: \"row\"\n  },\n  root: {\n    backgroundColor: \"#181818\",\n    padding: \"15px\"\n\n  },\n  parent: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"row\",   \n    justifyContent: \"center\",\n    flexWrap: \"wrap\",\n    backgroundColor: \"#181818\",\n    paddingTop: \"150px\"\n \n  },\n  child: {\n    backgroundColor: \"#282828\",\n    height: \"350px\",\n    position: \"relative\",\n    display: \"flex\",\n    width: \"430px\",\n    justifyContent: \"center\",\n    marginRight: \"20px\",\n    marginBottom: \"20px\"\n  },\n  writeName: {\n    position: \"absolute\",\n    color: \"#B3B3B3\",\n    fontFamily: \"'Ubuntu', sans-serif\",\n    fontSize: \"1.5rem\",\n    zIndex: \"1\",\n    backgroundColor: \"#282828\",\n    height: \"180px\",\n    width: \"380px\",\n    textAlign: \"center\",\n    paddingTop: \"150px\"\n  },\n    parentbig: {\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"row\",   \n    justifyContent: \"center\",\n    flexWrap: \"wrap\",\n    backgroundColor: \"#181818\",\n    paddingTop: \"10px\"\n \n  },\n  childbig: {\n    backgroundColor: \"#282828\",\n    height: \"270px\",\n    position: \"relative\",\n    display: \"flex\",\n    width: \"360px\",\n    justifyContent: \"center\",\n    marginRight: \"20px\",\n    marginBottom: \"20px\"\n  },\n  writeNamebig: {\n    position: \"absolute\",\n    color: \"#B3B3B3\",\n    fontFamily: \"'Ubuntu', sans-serif\",\n    fontSize: \"1.5rem\",\n    zIndex: \"1\",\n    backgroundColor: \"#282828\",\n    height: \"150px\",\n    width: \"350px\",\n    textAlign: \"center\",\n    paddingTop: \"120px\"\n  },\n  meetingEnd: {\n    backgroundColor: \"#181818\",\n    padding: \"50px\",\n    textAlign: \"center\"\n  },\n  meetingEndTitle: {\n    color: \"#B3B3B3\",\n    fontFamily: \"'Ubuntu', sans-serif\",\n    fontSize: \"2rem\",\n  }\n});\n\nconst Room = (props) => {\n  const classes = useStyles();\n\n  const [peers, setPeers] = useState([]);\n  const [userVideoAudio, setUserVideoAudio] = useState({\n    localUser: { video: true, audio: true },\n  });\n\n  // const [displayChat, setDisplayChat] = useState(false);\n  const [video, setVideo] = useState(true);\n  const [leave, setLeave] = useState(false);\n  \n  const peersRef = useRef([]);\n  const userVideoRef = useRef();\n\n  const userStream = useRef();\n\n  const roomId = props.match.params.roomId;\n  const currentUser = sessionStorage.getItem('user');\n\n  useEffect(() => {\n\n    // Set Back Button Event\n    window.addEventListener('popstate', endCall);\n\n    // Connect Camera & Mic\n    navigator.mediaDevices\n      .getUserMedia({ video: true, audio: true })\n      .then((stream) => {\n        userVideoRef.current.srcObject = stream;\n        userStream.current = stream;\n\n        socket.emit('joinRoom', { roomId, userName: currentUser });\n        socket.on('userJoin', ({clients, socketList}) => {\n          const peer_array = [];\n\n          clients.forEach((client) => {\n            let userId = client\n            let userName = socketList[client].userName;\n            let video = socketList[client].video\n            let audio = socketList[client].audio\n\n            if (userName !== currentUser) {\n              const peer = createPeer(userId, socket.id, stream);\n\n              peer.userName = userName;\n              peer.peerID = userId;\n              peersRef.current.push({\n                peerID: userId,\n                peer,\n                userName,\n              });\n\n              peer_array.push(peer);\n\n              setUserVideoAudio((preList) => {\n                return {\n                  ...preList,\n                  [peer.userName]: { video, audio },\n                };\n              });\n            }\n          });\n\n          setPeers(peer_array);\n        });\n\n        socket.on('receiveCall', ({ signal, from, info }) => {\n          let userName = info.userName;\n          let video = info.video\n          let audio = info.audio\n          \n          const peerIDs = findPeer(from);\n          if (!peerIDs) {\n            const peer = addPeer(signal, from, stream);\n\n            peer.userName = userName;\n            peersRef.current.push({\n              peerID: from,\n              peer,\n              userName: userName,\n            });\n\n            setPeers((users) => {\n              return [...users, peer];\n            });\n\n            setUserVideoAudio((preList) => {\n              return {\n                ...preList,\n                [peer.userName]: { video, audio },\n              };\n            });\n          }\n        });\n\n        socket.on('callAccepted', ({ signal, answerId }) => {\n          const peerIDs = findPeer(answerId);\n          peerIDs.peer.signal(signal);\n        });\n\n        socket.on('userLeave', ({ userId }) => {\n          const peerIDs = findPeer(userId);\n          peerIDs.peer.destroy();\n          setPeers((users) => {\n            users = users.filter((user) => user.peerID !== peerIDs.peer.peerID);\n            return [...users];\n          });\n        });\n      });\n\n    socket.on('toggleVideo', ({ userId, switchTarget }) => {\n      const peerIDs = findPeer(userId);\n\n      setUserVideoAudio((preList) => {\n        let video = preList[peerIDs.userName].video;\n        let audio = preList[peerIDs.userName].audio;\n\n        if (switchTarget === 'video') video = !video;\n        else audio = !audio;\n\n        return {\n          ...preList,\n          [peerIDs.userName]: { video, audio },\n        };\n      });\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n    // eslint-disable-next-line\n  }, []);\n\n  function createPeer(userId, caller, stream) {\n    const peer = new Peer({\n      initiator: true,\n      trickle: false,\n      stream,\n      config: {\n        iceServers: [{\n          urls: [ \"stun:bn-turn1.xirsys.com\" ]\n       },\n       {url:'stun:stun01.sipphone.com'},\n       {url:'stun:stun.ekiga.net'},\n       {url:'stun:stun.fwdnet.net'},\n       {url:'stun:stun.ideasip.com'},\n       {url:'stun:stun.iptel.org'},\n       {url:'stun:stun.rixtelecom.se'},\n       {url:'stun:stun.schlund.de'},\n       {url:'stun:stun.l.google.com:19302'},\n       {url:'stun:stun1.l.google.com:19302'},\n       {url:'stun:stun2.l.google.com:19302'},\n       {url:'stun:stun3.l.google.com:19302'},\n       {url:'stun:stun4.l.google.com:19302'},\n       {url:'stun:stunserver.org'},\n       {url:'stun:stun.softjoys.com'},\n       {url:'stun:stun.voiparound.com'},\n       {url:'stun:stun.voipbuster.com'},\n       {url:'stun:stun.voipstunt.com'},\n       {url:'stun:stun.voxgratia.org'},\n       {url:'stun:stun.xten.com'},\n        {\n          username: \"yq_BxvdCMrMv110BQ2bGPCD655MPBLy8UcPGPIS94u2JQdC3_xZqU_lfu1onKQ3gAAAAAGDR8wBjcnV5ZmZlc3Np\",\n          credential: \"c92f9d3e-d365-11eb-8c7b-0242ac140004\",\n          urls: [\n              \"turn:bn-turn1.xirsys.com:80?transport=udp\",\n              \"turn:bn-turn1.xirsys.com:3478?transport=udp\",\n              \"turn:bn-turn1.xirsys.com:80?transport=tcp\",\n              \"turn:bn-turn1.xirsys.com:3478?transport=tcp\",\n              \"turns:bn-turn1.xirsys.com:443?transport=tcp\",\n              \"turns:bn-turn1.xirsys.com:5349?transport=tcp\"\n          ]\n       }]\n      }\n    });\n\n    peer.on('signal', (signal) => {\n      socket.emit('callUser', {\n        userToCall: userId,\n        from: caller,\n        signal,\n      });\n    });\n    peer.on('disconnect', () => {\n      peer.destroy();\n    });\n\n    return peer;\n  }\n\n  \n  function addPeer(incomingSignal, callerId, stream) {\n    const peer = new Peer({\n      initiator: false,\n      trickle: false,\n      stream,\n      config: {\n        iceServers: [{\n          urls: [ \"stun:bn-turn1.xirsys.com\" ]\n       },\n       {url:'stun:stun01.sipphone.com'},\n       {url:'stun:stun.ekiga.net'},\n       {url:'stun:stun.fwdnet.net'},\n       {url:'stun:stun.ideasip.com'},\n       {url:'stun:stun.iptel.org'},\n       {url:'stun:stun.rixtelecom.se'},\n       {url:'stun:stun.schlund.de'},\n       {url:'stun:stun.l.google.com:19302'},\n       {url:'stun:stun1.l.google.com:19302'},\n       {url:'stun:stun2.l.google.com:19302'},\n       {url:'stun:stun3.l.google.com:19302'},\n       {url:'stun:stun4.l.google.com:19302'},\n       {url:'stun:stunserver.org'},\n       {url:'stun:stun.softjoys.com'},\n       {url:'stun:stun.voiparound.com'},\n       {url:'stun:stun.voipbuster.com'},\n       {url:'stun:stun.voipstunt.com'},\n       {url:'stun:stun.voxgratia.org'},\n       {url:'stun:stun.xten.com'},\n        {\n          username: \"yq_BxvdCMrMv110BQ2bGPCD655MPBLy8UcPGPIS94u2JQdC3_xZqU_lfu1onKQ3gAAAAAGDR8wBjcnV5ZmZlc3Np\",\n          credential: \"c92f9d3e-d365-11eb-8c7b-0242ac140004\",\n          urls: [\n              \"turn:bn-turn1.xirsys.com:80?transport=udp\",\n              \"turn:bn-turn1.xirsys.com:3478?transport=udp\",\n              \"turn:bn-turn1.xirsys.com:80?transport=tcp\",\n              \"turn:bn-turn1.xirsys.com:3478?transport=tcp\",\n              \"turns:bn-turn1.xirsys.com:443?transport=tcp\",\n              \"turns:bn-turn1.xirsys.com:5349?transport=tcp\"\n          ]\n       }]\n      }\n    });\n\n    peer.on('signal', (signal) => {\n      socket.emit('acceptCall', { signal, to: callerId });\n    });\n\n    peer.on('disconnect', () => {\n      peer.destroy();\n    });\n\n    peer.signal(incomingSignal);\n\n    return peer;\n  }\n\n  function findPeer(id) {\n    return peersRef.current.find((p) => p.peerID === id);\n  }\n\n  function createVideo(peer, index, width, videoHolder, userNameCust)\n  {\n    return (\n      <div className={videoHolder} key={index}>\n        {writeUserName(peer.userName,userNameCust, index)}\n        <VideoCard key={index} peer={peer} width={width} />\n      </div>\n    )\n  }\n\n\n  function writeUserName(userName, userNameCust, index) {\n    if (userVideoAudio.hasOwnProperty(userName)) {\n      if (!userVideoAudio[userName].video) {\n          return <div className={userNameCust} key={userName}>{userName}</div>;        \n      }\n    }\n  }\n\n  const goToBack = (e) => {\n    e.preventDefault();\n    setVideo(false)\n    setLeave(true)\n    socket.emit('leaveRoom', { roomId });\n  };\n\n  const endCall = (e) => {\n    e.preventDefault();\n    socket.emit('finish', {roomId})\n    sessionStorage.removeItem('user');\n    window.location.href = '/'\n  }\n\n  const toggleCameraAudio = (e) => {\n    const target = e.currentTarget.getAttribute('data-switch');\n    console.log(e.currentTarget.getAttribute('data-switch'))\n\n\n    setUserVideoAudio((preList) => {\n      let videoSwitch = preList['localUser'].video;\n      let audioSwitch = preList['localUser'].audio;\n\n      if (target === 'video') {\n        const userVideoTrack = userVideoRef.current.srcObject.getVideoTracks()[0];\n        videoSwitch = !videoSwitch;\n        userVideoTrack.enabled = videoSwitch;\n      } else {\n        const userAudioTrack = userVideoRef.current.srcObject.getAudioTracks()[0];\n        audioSwitch = !audioSwitch;\n\n        if (userAudioTrack) {\n          userAudioTrack.enabled = audioSwitch;\n        } else {\n          userStream.current.getAudioTracks()[0].enabled = audioSwitch;\n        }\n      }\n\n      return {\n        ...preList,\n        localUser: { video: videoSwitch, audio: audioSwitch },\n      };\n    });\n\n    socket.emit('toggle', { roomId, switchTarget: target });\n  };\n\n\n  return (\n    <div className={classes.root}>\n    <Heading meeting={true} room={roomId} />\n    <div>\n      <Grid container spacing={2}>\n        <Grid item xs={6} sm={1}>\n          <CallOption goToBack={goToBack} toggleCameraAudio={toggleCameraAudio} userVideoAudio={userVideoAudio['localUser']} endCall={endCall} leave={leave}/>\n        </Grid>\n        <Grid item xs={6} sm={8}>\n          <div className={classes.grandParent}>\n          {\n            !peers || peers.length < 2 ? (\n              <div className={classes.parent}>\n              {\n                video ? \n                (<div className={classes.child}>\n                  {\n                    userVideoAudio['localUser'].video ? null : (<div className={classes.writeName}>{currentUser}</div>)\n                  }\n                  <video style={{backgroundSize: \"cover\", overflow: \"hidden\", width: \"380px\"}} ref={userVideoRef} autoPlay muted></video>\n                  </div>\n                ) : (\n                  <div className={classes.meetingEnd}>\n                  <p className={classes.meetingEndTitle}>Video Chat Ended !!</p>\n                  <p className={classes.meetingEndTitle}>You Can Still Chat with Others !!</p></div>)\n              }\n              {video && peers && peers.map((peer,index) => createVideo(peer,index,\"380px\",classes.child, classes.writeName))}\n            </div>\n            ) : (\n              <div className={classes.parentbig}>\n              {\n                video ? \n                (<div className={classes.childbig}>\n                  {\n                    userVideoAudio['localUser'].video ? null : (<div className={classes.writeNamebig}>{currentUser}</div>)\n                  }\n                  <video style={{backgroundSize: \"cover\", overflow: \"hidden\", width: \"340px\"}} ref={userVideoRef} autoPlay muted></video>\n                  </div>\n                ) : (null)\n              }\n              {video && peers && peers.map((peer,index) => createVideo(peer,index,\"340px\",classes.childbig,classes.writeNamebig))}\n            </div>\n            )\n          }\n          </div>\n        </Grid>\n        <Grid item xs={6} sm={3}>\n        <ChatOption roomId={roomId} />\n        </Grid>\n      </Grid>\n    </div>\n    </div>\n  );\n};\n\n\nexport default Room;","import React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport Main from './components/Main/Main';\nimport Room from './components/Room/Room'\n\nfunction App() {\n  return (\n    <BrowserRouter>\n        <Switch>\n          <Route exact path=\"/\" component={Main} />\n          <Route exact path=\"/room/:roomId\" component={Room} />\n        </Switch>\n    </BrowserRouter>\n  );\n}\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n","module.exports = __webpack_public_path__ + \"static/media/image1.f142bb56.svg\";"],"sourceRoot":""}